{% extends "base.html" %}
{% block title %}Edit {{ item.name }}{% endblock %}

{% block content %}
<a href="/items/{{ item.id }}" class="text-muted" style="font-size:0.8rem">Back</a>

<h1 class="mt-16">Edit Item</h1>

<form method="POST" action="/items/{{ item.id }}/edit">
    <div class="form-group">
        <label for="name">Name</label>
        <input type="text" id="name" name="name" value="{{ item.name }}" class="form-control" required>
    </div>

    <div class="form-group">
        <label for="description">Description</label>
        <textarea id="description" name="description" class="form-control">{{ item.description or '' }}</textarea>
    </div>

    <div class="form-group">
        <label for="category">Category</label>
        <select id="category" name="category" class="form-control">
            {% for cat in ['electronics', 'furniture', 'kitchenware', 'books', 'clothing', 'tools', 'decor', 'appliances', 'sports', 'toys', 'other'] %}
            <option value="{{ cat }}" {% if item.category == cat %}selected{% endif %}>{{ cat | capitalize }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="estimated_value">Estimated Value ($)</label>
        <input type="number" id="estimated_value" name="estimated_value"
               value="{{ item.estimated_value or '' }}" class="form-control" step="0.01" min="0">
    </div>

    <div class="form-group">
        <label for="condition">Condition</label>
        <select id="condition" name="condition" class="form-control">
            <option value="">-</option>
            {% for c in ['new', 'good', 'fair', 'poor'] %}
            <option value="{{ c }}" {% if item.condition == c %}selected{% endif %}>{{ c | capitalize }}</option>
            {% endfor %}
        </select>
    </div>

    <h3 class="mt-16 mb-8">Product Details</h3>

    <div class="flex gap-8">
        <div class="form-group" style="flex:1">
            <label for="brand">Brand</label>
            <input type="text" id="brand" name="brand" value="{{ item.brand or '' }}" class="form-control">
        </div>
        <div class="form-group" style="flex:1">
            <label for="model_number">Model</label>
            <input type="text" id="model_number" name="model_number" value="{{ item.model_number or '' }}" class="form-control">
        </div>
    </div>

    <div class="flex gap-8">
        <div class="form-group" style="flex:1">
            <label for="serial_number">Serial Number</label>
            <input type="text" id="serial_number" name="serial_number" value="{{ item.serial_number or '' }}" class="form-control">
        </div>
        <div class="form-group" style="flex:1">
            <label for="material">Material</label>
            <input type="text" id="material" name="material" value="{{ item.material or '' }}" class="form-control">
        </div>
    </div>

    <div class="flex gap-8">
        <div class="form-group" style="flex:1">
            <label>Width (cm)</label>
            <input type="number" name="width_cm" value="{{ item.width_cm or '' }}" class="form-control" step="0.1" min="0">
        </div>
        <div class="form-group" style="flex:1">
            <label>Height (cm)</label>
            <input type="number" name="height_cm" value="{{ item.height_cm or '' }}" class="form-control" step="0.1" min="0">
        </div>
        <div class="form-group" style="flex:1">
            <label>Depth (cm)</label>
            <input type="number" name="depth_cm" value="{{ item.depth_cm or '' }}" class="form-control" step="0.1" min="0">
        </div>
    </div>

    <div class="form-group">
        <label for="weight_kg">Weight (kg)</label>
        <input type="number" id="weight_kg" name="weight_kg" value="{{ item.weight_kg or '' }}" class="form-control" step="0.1" min="0">
    </div>

    <h3 class="mt-16 mb-8">Insurance / Purchase Info</h3>

    <div class="flex gap-8">
        <div class="form-group" style="flex:1">
            <label for="replacement_cost">Replacement Cost ($)</label>
            <input type="number" id="replacement_cost" name="replacement_cost" value="{{ item.replacement_cost or '' }}" class="form-control" step="0.01" min="0">
        </div>
        <div class="form-group" style="flex:1">
            <label for="purchase_price">Purchase Price ($)</label>
            <input type="number" id="purchase_price" name="purchase_price" value="{{ item.purchase_price or '' }}" class="form-control" step="0.01" min="0">
        </div>
    </div>

    <div class="form-group">
        <label for="purchase_date">Purchase Date</label>
        <input type="date" id="purchase_date" name="purchase_date" value="{{ item.purchase_date or '' }}" class="form-control">
    </div>

    <div class="flex gap-8 mt-16">
        <a href="/items/{{ item.id }}" class="btn btn-secondary" style="flex:1">Cancel</a>
        <button type="submit" class="btn btn-primary" style="flex:1">Save</button>
    </div>
</form>
{% endblock %}
